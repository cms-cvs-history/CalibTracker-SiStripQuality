process CALIB = {
    
    service = MessageLogger {
	untracked vstring destinations = { "cout" }
	untracked PSet cout = { untracked string threshold = "INFO" }
#	untracked PSet cout = { untracked string threshold = "DEBUG" }
	untracked vstring debugModules   = { "*" }
    }

    source = EmptyIOVSource {
	string timetype = "runnumber"
        #untracked uint32 firstRun = 11907
	#untracked uint32 lastRun = 11907
        #untracked uint32 firstRun = 13678
	#untracked uint32 lastRun = 13678
        untracked uint32 firstRun = 1
	untracked uint32 lastRun = 1
        uint32 interval = 1
    }
    untracked PSet maxEvents = {untracked int32 input = 1}
      
    es_source a = PoolDBESSource {
	string appendToDataLabel = "SiStripBadModule_v1"
	VPSet toGet = {	{ string record = "SiStripBadModuleRcd"  string tag = "SiStripBadModule_TBuffer_VenturiList_v1"} }
	string connect = "oracle://cms_orcoff_int2r/CMS_COND_STRIP" 
	#string connect = "sqlite_file:dbfile.db"
	string timetype = "runnumber"
	untracked string BlobStreamerName="TBufferBlobStreamingService"	   
 	PSet DBParameters ={
	    untracked string authenticationPath="/afs/cern.ch/cms/DB/conddb"
	}
    }

    es_source b = PoolDBESSource {
	string appendToDataLabel = "SiStripBadFiber_v1"
	VPSet toGet = {	{ string record = "SiStripBadFiberRcd"   string tag = "SiStripBadFiber_TBuffer_VenturiList_v1"} }
	string connect = "oracle://cms_orcoff_int2r/CMS_COND_STRIP" 
	#string connect = "sqlite_file:dbfile.db"
	string timetype = "runnumber"
	untracked string BlobStreamerName="TBufferBlobStreamingService"
     	PSet DBParameters ={
	    untracked string authenticationPath="/afs/cern.ch/cms/DB/conddb"
	}
    }

    ## CABLING
    include "CalibTracker/Configuration/data/SiStrip_FrontierCabling.cfi"
    replace siStripFedCabling.toGet={ { string record = "SiStripFedCablingRcd" string tag = "SiStripCabling_pass4_test_v1"} }
    replace siStripFedCabling.connect = "oracle://cms_orcoff_int2r/CMS_COND_STRIP"
    replace siStripFedCabling.DBParameters.authenticationPath="/afs/cern.ch/cms/DB/conddb"

    es_module = SiStripQualityESProducer {
	
	string appendToDataLabel = ""

	untracked bool PrintDebug=false
	
	VPSet ListOfRecordToMerge = {
	    { string record = "SiStripBadModuleRcd"  string tag = "SiStripBadModule_v1"} ,
	    { string record = "SiStripBadFiberRcd"   string tag = "SiStripBadFiber_v1"},
	    { string record = "SiStripDetCablingRcd"   string tag = ""} 
	}    	
    }

    //include "CalibTracker/SiStripESProducers/data/SiStripQualityFakeESSource.cfi"

   
    module stat = SiStripQualityStatistics{
	untracked string dataLabel = ""
	untracked string TkMapFileName = "TkMapBadComponents.png"  #available filetypes: .pdf .png .jpg .svg
    }

    path p = { stat }
        
    module print = AsciiOutputModule {}
    endpath ep = { print }
}




