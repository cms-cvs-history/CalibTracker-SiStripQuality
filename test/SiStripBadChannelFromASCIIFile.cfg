process ICALIB = {
    
    service = MessageLogger {
	untracked vstring destinations = { cout }
	untracked PSet cout = { untracked string threshold = "INFO" }
    }

    source = EmptyIOVSource {
	string timetype = "runnumber"
        untracked uint32 firstRun = 1
	untracked uint32 lastRun = 1
        uint32 interval = 1
    }
    untracked PSet maxEvents = {untracked int32 input = 1}
  
    
    service = PoolDBOutputService{
	string connect = "sqlite_file:dbfile.db"    
	string timetype = "runnumber"    
	untracked string BlobStreamerName="DefaultBlobStreamingService"
	PSet DBParameters = {
	    untracked string authenticationPath="/afs/cern.ch/cms/DB/conddb"
	}
	VPSet toPut={ { string record = "SiStripBadStrip" string tag = "SiStripBadChannel_v1"} }
    }
        
    module prod =  SiStripBadStripFromASCIIFile {
	untracked bool   printDebug = true
	
	#put here path of ASCII file
	untracked FileInPath file = "CalibTracker/SiStripQuality/data/DefectsFromConstructionDB.dat"
	
	string IOVMode     = "Run"
	bool SinceAppendMode = true	
	string Record        = "SiStripBadStrip"
	bool doStoreOnDB = true
    }

    path p = { prod }
    
    module print = AsciiOutputModule {}
    endpath ep = { print }
}
